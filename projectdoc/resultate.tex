% Resultate und Ergebnisse der Arbeit. Dieser Abschnitt richtet sich an den speziell für das entsprechende Fachgebiet interessierten Ingenieur. Er soll es ihm ermöglichen, die für die Problemlösung gemachten Überlegungen zu verstehen und nachzuvollziehen.

\section{Resultate und Weiterentwicklung}
\label{Resultate und Weiterentwicklung}

%TODO

\subsection{Resultate}
\label{Resultate und Weiterentwicklung:Resultate}

\subsubsection{Laufzeit}
\label{Resultate und Weiterentwicklung:Laufzeit}

% TODO Einführung

\paragraph{Theoretische Laufzeit}~\\
% TODO Laufzeit nach Messungen anpassen
Für die Bestimmung der theoretischen Laufzeit wird lediglich das Berechnen der \glspl{Isochrone} betrachtet, da dies mit \textasciitilde 16h den grössten Teil der Laufzeit für eine komplette Berechnung der \acs{ÖV}-Güteklassen ausmacht.

% TODO Diesen Abschnitt evtl. in oberes Kapitel verschieben
Wie in \ref{ÖV-Güteklassen 2018 Generator:Umsetzung Spezifikation} beschrieben, wird für jede der $N$ Haltestellen eine oder mehrere \glspl{Isochrone} erzeugt.
Dieser Algorithmus besteht aus zwei Teilen.
Als erstes werden mit dem Dijkstra-Algorithmus~\cite{dijkstra_algorithm} alle Vertices ermittelt, die von der Haltestelle aus in einer festgelegten Zeit im Routing-Graphen erreichbar sind.
Im zweiten Schritt wird mit diesen Vertices eine Alpha Shape~\cite{alpha_shapes} erzeugt, die alle gefundenen Punkte in einem Polygon einschliesst.
Der erste Schritt muss pro Haltestelle nur ein Mal für die grösste Distanz durchgeführt werden, für die Erzeugung der \glspl{Isochrone} für kürzere Distanzen wird das Ergebnis des Dijkstra-Algorithmus gefiltert.

Der Dijkstra-Algorithmus wird in PgRouting mit der "`Boost Graph"'-Library~\cite{boost_graph} implementiert und hat eine Laufzeit von $\mathcal{O}(V \log V + E)$, wobei $E$ die Anzahl der Kanten und $V$ die Anzahl Vertices im Routing-Graphen bezeichnen.
Für eine effizientere Berechnung werden in einem vorhergehenden Schritt alle Kanten $E\prime$ ermittelt, die maximal 1300 Meter von der Haltestelle entfernt sind.
Diese Vorselektion der Kanten ist dank einem R-Tree-Index mit $\mathcal{O}(\log E)$ möglich.
Insgesamt ergibt dies eine Laufzeit von $\mathcal{O}(\log E) + \mathcal{O}(V \log V + E\prime)$.
Da die Vorselektion der Kanten $E\prime$ nur sehr klein ist ($E\prime \ll V$) und in konstanter Zeit läuft, kann dies vernachlässigt werden.

Der zweite Schritt, das Erstellen der Alpha Shape, wird nur noch mit den vorher ermittelten Punkten $V\prime$ durchgeführt.
Da dies im Vergleich zum kompletten Graphen nur sehr wenige Punkte sind ($V\prime \ll V$), ist dieser Schritt für die Laufzeit ebenfalls zu vernachlässigen.

Diese Berechnung der \glspl{Isochrone} wird für alle $N$ Haltestellen durchgeführt.
Insgesamt ergibt das folgende Laufzeit:
\[
    \mathcal{O}(N (\log E + V \log V))
\]

\begin{conditions}
    $N$   &   Anzahl Haltestellen\\
    $V$   &   Anzahl Vertices im Routing-Graph\\
    $E$   &   Anzahl Knoten im Routing-Graph\\
\end{conditions}


\subsection{Möglichkeiten der Weiterentwicklung}
\label{Resultate und Weiterentwicklung:Möglichkeiten der Weiterentwicklung}

%TODO