
\section{Einführung}
\label{Einführung}

%TODO

\subsection{Grundlagen und Begriffe}
\label{Einführung:Grundlagen und Begriffe}

Folgend werden Grundlagen und Begriffe eingeführt, welche für das grundlegende Verständnis der Arbeit relevant sind.

\subsubsection{ÖV-Güteklasse}
\label{Grundlagen und Begriffe:ÖV-Güteklasse}

\acs{ÖV}-Güteklassen geben Auskunft darüber, wie gut ein Standort mit dem öffentlichen Verkehr erschlossen ist.
Dies ist wichtig, wenn es darum geht, den öffentlichen Verkehr zu optimieren, Siedlungsverdichtung nach Innen an geeigneten Lagen voranzutreiben oder Standortentscheide für publikumsintensive Anlagen so zu treffen, dass sie möglichst wenig zusätzlichen Autoverkehr verursachen.~\cite{oev-guteklasse-gr-defintion}

\subsubsection{Haltestelle}
\label{begriff:Haltestelle}

Für den Zweck dieser Arbeit werden nur Bahnhöfe, Tram- und Bushaltestellen in die Berechnung einbezogen.
Nachfolgend werden alle drei genannten Begriffe als Haltestelle bezeichnet, sofern dies nicht genauer spezifiziert ist.


\subsection{Problemstellung}
\label{Einführung:Problemstellung}

Mit \acs{ÖV}-Güteklassen wird ermittelt, welche Gebiete wie gut mit öffentlichen Verkehrsmitteln erschlossen sind.
Die Daten werden unter anderem von Raumplanern und Verkehrsplanern verwendet, um Entscheidungen für die Entwicklung von Gebieten zu treffen.

Die Methodik zur Erhebung von Güteklassen wurde 1993 erstmals in der Schweizer Norm SN 640 290~\cite{sn640290} festgelegt.
Die Norm wurde damals zur Berechnung des Bedarfs an Parkplätzen eingeführt.
Sie wurde 2006 durch die neue Norm SN 640 281~\cite{sn640281} ersetzt.
Darin sind aber Güteklassen in dieser Form nicht mehr erhalten. Die alte Norm wird aber immer noch als Grundlage verwendet, um die aktuellen \acs{ÖV}-Güteklassen zu berechnen~\cite{berechnung_are}.

Die Berechnungsmethoden, wie sie in der Norm festgehalten wurden, sind für die heutigen technischen Möglichkeiten überholt.
Im Folgenden werden einige Probleme und Lösungsansätze für die Berechnung von Güteklassen im Bezug auf öffentliche Verkehrsmittel aufgezeigt.

\subsubsection{Luftlinie bei Einzugsgebieten}
\label{problem:Luftlinie bei Einzugsgebieten}

Bei der Berechnung von Güteklassen nach der Norm SN 640 290~\cite{sn640290} wird um jede Haltestelle Kreise mit einem gewissen Radius gezogen.
Diese bestimmen die Einzugsgebiete der Haltestellen mit unterschiedlicher Qualität.
Diese Methode beachtet aber nicht die effektive Erreichbarkeit für Fussgänger.
Es kann z.B. sein, dass die Haltestelle nur durch eine Strasse zugänglich ist und Fussgänger in der Umgebung einen Umweg laufen müssen.
Das effektive Einzugsgebiet wird so also nicht akkurat repräsentiert.

\subsubsection{Topografie}
\label{problem:Topografie}

In der jetzigen Berechnung der Güteklassen wird die Topografie der Umgebung von Haltestellen nicht einberechnet.
Je steiler der Zugang zu einer Haltestelle ist, desto kleiner wird das effektive Einzugsgebiet der Haltestelle, da Fussgänger weniger bereit sind, Distanzen zu laufen, die auf ebenem Grund akzeptabel wären.

\subsubsection{Taktberechnung}
\label{problem:Taktberechnung}

Nach der verwendeten Norm SN 640 290~\cite{sn640290} werden Haltestellen anhand der Anzahl der Verbindungen in einer bestimmten Zeit in Kategorien eingeteilt.
Je höher diese Kategorie, desto grösser wird das Einzugsgebiet der Haltestelle bewertet.

Bei der Bewertung der Kategorie wird aber nicht darauf geachtet, in welchem Takt die Verbindungen eintreffen.
So kann es sein, dass an einer Haltestelle alle 15 Minuten genau ein Bus ankommt, bei einer anderen alle 30 Minuten gleich zwei Busse in gleicher Richtung hintereinander.
Die Berechnung zählt aber nur die Anzahl Verbindungen insgesamt, womit beide Haltestellen danach gleichwertig wären, obwohl die Haltestelle mit dem 15 Minuten Takt offensichtlich besser angeschlossen ist.

In der Kategorisierung der Norm werden ausserdem Bushaltestellen, die halbstündlich oder stündlich bedient werden, in die gleiche Kategorie eingeteilt.
Für ein Benützer der Haltestelle ist dies allerdings ein markanter Unterschied.

\subsubsection{Berechnung an einem Stichtag}
\label{problem:Berechnung an einem Stichtag}

Bei der Berechnung der aktuellen Güteklassen vom \ac{ARE}~\cite{berechnung_are} werden für die Kategorisierung von Haltestellen die Verbindungen an einem gewissen Stichtag --- ein Werktag ausserhalb der touristischen Hochsaison --- definiert.
Dabei werden nur Verbindungen zwischen 6.00 Uhr und 20.00 Uhr gezählt.
Die Ansprüche an die Güteklassen können aber auch andere Zeiten umfassen.
So kann es interessant sein, die Verbindungen in der Nacht oder am Wochenende einzubeziehen.
Für touristische Regionen ist die Situation während der Hochsaison vielleicht interessanter als an einem normalen Werktag.

\subsection{Vision}
\label{Einführung:Vision}

\acs{ÖV}-Güteklassen 2018 ermöglicht es unterschiedlichen Stakeholdern die Qualität der öffentlichen Erschliessung eines Standortes unter Berücksichtigung des Höhenmodells und der Streckenführung in Kombination mit Verbesserungen aus den Erfahrungen mit dem alten Modell zu analysieren, um so Entscheidungen, welche den öffentlichen Raum betreffen, fundiert treffen zu können.

\subsection{Ziele und Unterziele}
\label{Einführung:Ziele und Unterziele}

Für die neue Spezifikation ''ÖV-Güteklassen 2018'' werden die in Kapitel \ref{Einführung:Problemstellung} eingeführten Probleme der bisherigen Berechnungsmethodik aufgegriffen.
Nachfolgend werden die Lösungsansätze zu den einzelnen Problemen dargestellt.


\subsubsection{Luftlinie bei Einzugsgebieten}
\label{solution:Luftlinie bei Einzugsgebieten}

Statt um jede Haltestelle Umkreise mit fixem Radius zu ziehen, bietet es sich an, das effektive Einzugsgebiet zu analysieren, das ein Fussgänger durch Benutzung von Strassen und Gehwege von der Haltestelle aus erreichen kann.

Ein Ansatz dazu ist die Berechnung von Isodistanzen.
Dies sind Linien, die jeweils alle Punkte verbinden, die von einem Startpunkt aus mit gleicher Distanz erreichbar sind.~\cite{isodistance_gislounge}
Dadurch ist eine viel genauere Abbildung des Einzugsgebiet einer Haltestelle möglich.

% TODO Bild generieren, um Isodistanzen zu demonstrieren

\subsubsection{Topografie}
\label{solution:Topografie}

Um die Topografie bei der Berechnung vom Einzugsgebiet einer Haltestelle mit einzubeziehen, müssen die Höhenunterschiede beachtet werden.
Dazu wird der Ansatz von Isodistanzen, wie in \ref{solution:Luftlinie bei Einzugsgebieten} beschrieben, erweitert. Zusätzlich zur Laufdistanz für einen Fussgänger werden die Höhenunterschiede in die Berechnung einbezogen und entsprechend gewichtet.
Eine Haltestelle in einem steilen Gebiet hat so ein geringeres Einzugsgebiet als eine gleich gut angeschlossene Haltestelle in einem flachen Gebiet.

Aktuelle Höhendaten für die Schweiz werden von swisstopo als swissALTI3D angeboten.~\cite{swissalti3d_swisstopo}

\subsubsection{Taktberechnung}
\label{solution:Taktberechnung}

In der aktuellen Norm werden nur die Anzahl Verbindungen in einer gewissen Zeitspanne gezählt.
Wie in \ref{problem:Taktberechnung} beschrieben, ergibt dies kein genaues Bild der Taktfrequenz der Verbindungen einer Haltestelle.

% TODO: Genauere Aussagen über unsere Berechnungsmethoden
Für eine optimierte Berechnung gibt es verschiedene Möglichkeiten.
So könnte die maximale oder mittlere Zeit ermittelt werden, die zwischen zwei Verbindungen an einer Haltestelle auftreten.
Im Bericht von ÖV-Güteklassen von Graubünden~\cite{oev-guteklasse-gr} wurde ausserdem eine maximale Anzahl von Taktlücken festgelegt, die zwischen 6.00 Uhr und 20.00 Uhr maximal auftreten dürfen, um die Haltestelle in die entsprechende Kategorie (Stundentakt, Halbstundentakt, etc.) einzuteilen.

Als zusätzliche Änderungen werden Bushaltestellen, die einen Halbstundentakt haben, in eine höhere Kategorie eingeteilt, als solche, die nur einen Stundentakt haben.

% TODO: "Hinketakt" mit einbeziehen?

\subsubsection{Berechnung an einem Stichtag}
\label{solution:Berechnung an einem Stichtag}

Da die Fahrplandaten für das ganze Jahr zur Verfügung stehen und die Berechnung automatisiert erfolgen kann, spricht nichts dagegen, die ÖV-Güteklassen für mehrere Stichtage und Zeitspannen zu ermitteln.

Es werden dazu vorgängig die Parameter definiert, mit welchen Fahrplandaten die Berechnung durchgeführt wird.
Die verschiedenen Versionen können dann vom Benutzer einzeln in der Web-Applikation visualisiert werden.

\subsubsection{Prototyp und Deliverables}
\label{Ziele und Unterziele:Prototyp und Deliverables}

Das Resultat der Arbeit besteht aus zwei Teilen.
Für den ersten Teil wird die Spezifikation ''\acs{ÖV}-Güteklassen 2018'' definiert, die auf der Norm SN 640 290~\cite{sn640290} sowie der aktuellen Berechnungsmethodik des \ac{ARE}~\cite{berechnung_are} aufsetzt und diese mit den oben genannten Punkten erweitert.

Im zweiten Teil wird die erarbeitete Spezifikation umgesetzt.
Mit einem reproduzierbarem Skript werden die \acs{ÖV}-Güteklassen für mehrere Parameter berechnet.
% TODO wo werden Parameter definiert?
In einem weiteren Schritt wird das Ergebnis der Berechnungen in einer Web-Applikation visualisiert.
Darin können neben unseren Berechnungen auch die bisherigen \acs{ÖV}-Güteklassen (''\acs{ÖV}-Güteklassen 1993'') angezeigt werden.

\subsection{Rahmenbedingungen, Umfeld, Definitionen und Abgrenzungen}
\label{Einführung:Rahmenbedingungen, Umfeld, Definitionen, Abgrenzungen}

Die Arbeit befasst sich mit der Spezifikation und Berechnung der ''ÖV-Güẗeklassen 2018''.
Eine Analyse und quantitativer Vergleich mit der bisherigen Spezifikation ''ÖV-Güteklassen 1993'' wird dabei bewusst ausgeklammert.

Für die Berechnung der ÖV-Güteklassen wird Python mit PostGIS und der Erweiterung pgRouting verwendet, sofern dies mit diesen Technologien möglich ist.
Für die Web-Applikation stehen VueJS oder React als Optionen zur Verfügung. Die Kartendaten werden von \ac{OSM} bezogen, die Fahrplandaten werden uns von geOps und der SBB via der Open Data Platform~\cite{sbb_open_transport_data} zur Verfügung gestellt.
Für das Höhenmodell wird der Datensatz \emph{swissALTI3D} von swisstopo~\cite{swissalti3d_swisstopo} genutzt, welcher uns zu diesem Zweck von der HSR bereit gestellt wurde.

\subsection{Vorgehen und Aufbau der Arbeit}
\label{Einführung:Vorgehen und Aufbau der Arbeit}

Die Bachelorarbeit befasst sich mit dem Problem, eine moderne Erweiterung der ''\acs{ÖV}-Güteklassen 1993'' zu entwickeln und die Berechnung umzusetzen.
Im ersten Schritt werden die aktuellen Berechnungsmethoden analysiert und ermittelt, welche Anpassungen und Erweiterungen in die neue Spezifikation ''\acs{ÖV}-Güteklassen 2018'' übernommen werden.
Ausserdem wird geprüft, inwiefern und mit welchen Technologien die Berechnung möglichst effizient durchgeführt und visualisiert werden kann.

In einem zweiten Teil wird die erarbeitete Spezifikation implementiert.
Mit aktuellen Kartendaten von \ac{OSM} und den Fahrplandaten für das Jahr 2018 werden die \acs{ÖV}-Güteklassen für die gesamte Schweiz berechnet.
Die Visualisierung erfolgt in Form einer Web-Applikation, worin die \acs{ÖV}-Güteklassen auf einer interaktiven Karte dargestellt sind.

Die Erarbeitung sowie das Ergebnis der Spezifikation ''\acs{ÖV}-Güteklassen 2018'' wird im Teil \ref{Technischer Bericht} beschrieben.
Die Berechnung und Visualisierung der Spezifikation wird im Teil \ref{SW-Projektdokumentation} behandelt.
